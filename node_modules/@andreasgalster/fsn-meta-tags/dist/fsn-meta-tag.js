'use strict';

require('@polymer/polymer/polymer.html');

Polymer({
  is: 'fsn-meta-tag',
  properties: {
    defaultTitle: String,
    title: {
      type: String,
      observer: 'setTitle'
    },
    meta: {
      type: Object,
      observer: 'setMeta'
    },
    tag: {
      type: String,
      observer: 'setMeta'
    }
  },

  setTitle: function setTitle() {
    document.title = this.title;
  },
  setMeta: function setMeta() {
    this._addTag();
  },
  _addTag: function _addTag() {
    var meta = this._buildTag();
    document.querySelector('head').insertAdjacentHTML('beforeend', meta);
  },
  _buildTag: function _buildTag() {
    var props = "";
    for (var key in this.meta) {
      props += key + '="' + this.meta[key] + '" ';
    }
    props += 'dochead="1"';
    var meta = '<meta ' + props + '/>';
    return meta;
  }
});